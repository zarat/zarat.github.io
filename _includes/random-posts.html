<div class="sp-content-item">
  <div class="sp-content-item-head">Weiterlesen</div>
  <div class="sp-content-item-body">
    <div id="randomPosts"></div>
  <script type="text/javascript">
window.onload = function randomPosts() {
  var postsURL = [{% for post in site.posts %}"{{ post.url }}"{% unless forloop.last %},{% endunless %}{% endfor %}];
  var postsTitle = [{% for post in site.posts %}"{{ post.title }}"{% unless forloop.last %},{% endunless %}{% endfor %}];

  var randomIndexUsed = [];
  var counter = 0;
  var numberOfPosts = 5;
  while (counter < numberOfPosts) {
    var randomIndex;
    var postURL;
    var postTitle;
    randomIndex = Math.floor(Math.random() * postsURL.length);
    if (randomIndexUsed.indexOf(randomIndex) == "-1") {
      postURL = postsURL[randomIndex];
      postTitle = postsTitle[randomIndex];
      
      var newItem = document.createElement("div");
      newItem.classList.add("sp-sidebar-item-head");
      var newLink = document.createElement("a");
      var textnode = document.createTextNode(postTitle);
      newLink.appendChild(textnode);
      newLink.href = postURL;
      newItem.appendChild(newLink);

      var list = document.getElementById("randomPosts");
      list.insertBefore(newItem, list.childNodes[0]);
      
      //document.write('<div class="sp-sidebar-item-head"><a href="' + postURL + '">' + postTitle + '</a></div>');
      
      randomIndexUsed.push(randomIndex);
      counter++;
    }
  };                                                                                                      }
  </script>
  </div>
</div>
